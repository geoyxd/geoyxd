{"meta":{"title":"geo++","subtitle":null,"description":"想要收获自由之果的人，必须承受维护自由的劳苦。","author":"geoplus","url":"http://geoplus.ltd","root":"/"},"pages":[{"title":"404","date":"2019-08-22T06:30:46.000Z","updated":"2019-08-22T06:32:23.344Z","comments":true,"path":"404/index.html","permalink":"http://geoplus.ltd/404/index.html","excerpt":"","text":"404"},{"title":"about","date":"2019-08-21T08:07:03.000Z","updated":"2020-03-10T02:05:04.290Z","comments":true,"path":"about/index.html","permalink":"http://geoplus.ltd/about/index.html","excerpt":"","text":"关于网站 www.geoyxd.site 关于我 湖人总冠军 联系方式 geoyxd@163.com"},{"title":"categories","date":"2019-08-21T11:33:35.000Z","updated":"2019-08-21T12:03:50.752Z","comments":true,"path":"categories/index.html","permalink":"http://geoplus.ltd/categories/index.html","excerpt":"","text":""},{"title":"booklist","date":"2019-08-22T06:26:16.000Z","updated":"2019-09-05T13:00:32.573Z","comments":true,"path":"booklist/index.html","permalink":"http://geoplus.ltd/booklist/index.html","excerpt":"","text":"2019 1 林徽因传 姜雯漪"},{"title":"resume","date":"2019-08-21T11:36:03.000Z","updated":"2019-08-22T00:12:22.144Z","comments":true,"path":"resume/index.html","permalink":"http://geoplus.ltd/resume/index.html","excerpt":"","text":"基本情况123一名“四非”大学毕业的硕士研究生目前就职于一家交通企业GNSS数据处理与分析 教育背景12本科 sdust 测绘工程硕士 sdust+casm联合培养 大地测量学与测量工程 编程语言1Fortran 软件1gamit/globk 格言1想要收获自由之果的人，必须承受维护自由的劳苦。"},{"title":"捐赠","date":"2019-12-12T11:30:01.000Z","updated":"2019-12-12T11:39:51.960Z","comments":true,"path":"捐赠/index.html","permalink":"http://geoplus.ltd/捐赠/index.html","excerpt":"","text":"https://user.qzone.qq.com/3189765103/infocenter"},{"title":"tags","date":"2019-08-21T11:29:57.000Z","updated":"2019-08-21T12:04:26.912Z","comments":true,"path":"tags/index.html","permalink":"http://geoplus.ltd/tags/index.html","excerpt":"","text":""},{"title":"资源下载","date":"2019-12-12T03:46:30.000Z","updated":"2019-12-13T00:26:29.369Z","comments":true,"path":"资源下载/index.html","permalink":"http://geoplus.ltd/资源下载/index.html","excerpt":"","text":"大地测量软件 1 gamit/globk 123链接：https://pan.baidu.com/s/1UPo07EBPHwjCQ31kbb4d8w 提取码：3xlp 复制这段内容后打开百度网盘手机App，操作更方便哦 2 GMT 工程测量软件 1 TBC5.2 123链接：https://pan.baidu.com/s/1zThiJx9-_8WHWGURS2MhwQ 提取码：qg2d 复制这段内容后打开百度网盘手机App，操作更方便哦 2 HGO 3 CGO 4 CASS9.1 5 测量员 GIS 1 arcgis 2 QGIS 摄影测量与遥感 1 EVEN gps 1 GAMP 2 rtklab 编程软件 1 Fotran 2 Python 3 MATLAB2019 个人常用软件 1 everything 2 islide 3 坚果云"}],"posts":[{"title":"linux系统编译bernese软件","slug":"install-bernese-on-linux","date":"2020-03-09T13:04:50.000Z","updated":"2020-03-10T01:02:40.752Z","comments":true,"path":"2020/03/09/install-bernese-on-linux/","link":"","permalink":"http://geoplus.ltd/2020/03/09/install-bernese-on-linux/","excerpt":"安装bernese5.2遇到两个坑一、Qt的安装二、bernese的按装","text":"安装bernese5.2遇到两个坑一、Qt的安装二、bernese的按装 1编译平台 1 Ubuntu18.04 2 bernese5.22依赖库1234$ sudo apt install libx11-dev $ sudo apt install libxext-dev $ sudo apt install libxtst-dev $ sudo apt install zlib1g-dev 安装 软件1 qt下载1234$ tar -zxvf qt-everywhere-opensource-src-4.8.7.tar.gz$ sudo ./configure -release -opensource -static -prefix /usr/local/qt4$ sudo make $ sudo make install QT编译失败，编译器参数设置不对，应该加上：-std=gnu++98 参数在终端执行./configure 后，在终端文本中搜索mkspecs或者Build type: 文件夹中mkspecs打开在Build type后面的linux-g++文件夹/qmake.conf修改其中的QMAKE_CXXFLAGS为： 1QMAKE_CXXFLAGS = $$QMAKE_CFLAGS -std=gnu++98 如果该文件中不存在QMAKE_CXXFLAGS 参数，则在该文件包含的头文件中查找。例如：该文件不存在QMAKE_CXXFLAGS 参数，则打开 ../common/linux.conf、../common/gcc-base-unix.conf、../common/g++-unix.conf 这三个文件。如果没有找到还需要递归的打开着三个文件中包含的文件。在../common/gcc-base.conf （包含在文件../common/gcc-base-unix.conf 中）文件中找到，并修改为如下所示。本文在gcc-base.conf和g++-base.conf 中对参数修改为如下所示。 12QMAKE_CXXFLAGS += $$QMAKE_CFLAGS -std=gnu++98 #gcc-base.conf文件QMAKE_CXX = g++ -std=gnu++98 # g++-base.conf 文件 然后再执行 1234$ sudo make confclean $ sudo ./configure -release -opensource -static -prefix /usr/local/qt4$ sudo make $ sudo make install Qt 4 的编译安装过程需要耗费较长的时间，具体时长取决于你的计算机硬件配置，耐心等待其编译完成。然后设置环境变量 QTDIR，将其指向 Qt 4 的安装目录。切换至 root ，打开 bash 环境配置文件： 12$ su root # gedit ~/.bashrc 在bashrc文件中添加 12345# PATH for QT4.8 export QTDIR=/usr/local/qt4 export PARH=PATH:QTDIR/bin export MANPATH=$QTDIR/doc/man export LD_LIBRARY_PATH=$QTDIR/lib 2 g++and fortran12sudo apt install g++sudo apt install gfortran bernese5.2通过 root 用户执行 Bernese 的安装引导脚本： 首先给root用户设置密码： 123$ sudo passwd root输入密码，并确认密码` 然后进入root，运行setup.sh 12$ su root# sh setup.sh 之后程序提示输入 Bernese 软件的安装目录，这里的 /root 表示默认安装路径。 !这里有坑，显示/root为正常我们将其安装到 /opt/BERN52 文件夹，因此输入：/opt。 一路回车，之后，配置文件 configure.pm 被启动，并在屏幕打印以下提示： 12345678910111213==========================================CONFIGURATION OF THE BERNESE GNSS SOFTWARE========================================== 0 ... Complete installation (Steps 1 to 5) 1 ... Update LOADGPS.setvar 2 ... Install online updates (only after Step 1) 3 ... Add a new user environment (only after Step 1) 4 ... Compile the menu (only after Step 1) 5 ... Compile the programs (only after Step 1) 6 ... Install the example campaign (only after Step 1) 7 ... --- x ... Exit 解释一下此处的各个选项：键入 0：执行从第 1 项至第 5 项的全部过程键入1：更新环境变量设置键入2：安装在线更新包键入3：添加新用户环境键入4：编译图形界面菜单键入5：编辑程序键入6：安装解算工程示例键入x： 退出安装程序由于存在一些坑，我们老老实实一步一步进行。键入 1，安装程序打印出支持的编译器，其中 GNU 指示到 gfortran 的路径，表明安装程序找到的了该编译器： 1234567891011121314151617181920Enter option: 1Information about compiler tests for OS LINUX: 1: g95 tested at AIUB 2: gfortran tested at AIUB 3: ifort tested at AIUB (version 10 and 12) 4: pgf90 tested at AIUB 5: f90 tested at AIUB 6: Use &quot;OTHER&quot; compiler from /opt/BERN52/GPS/EXE/Makefile.templateSelect Compiler for OS LINUX: 1: G95 2: GNU -&gt; /usr/bin/gfortran 3: IFC 4: PG_F90 5: SUNF90 6: OTHERSelect [2]: ` 这里系统已经检测到了 gfortran，键入 2 选择 gfortran 编译器（也可以直接按 Enter 键回车，因为默认就是 2）。然后安装程序继续打印出当前应用的环境变量： 12345678910111213141516Current Values:-------------- VARIABLE DESCRIPTION VARIABLE NAME VARIABLE VALUE 1: Path to software C =&gt; /opt/BERN52 2: Path to Qt libraries QTBERN =&gt; /usr/local/qt4 3: Operating system group OS =&gt; UNIX 4: Operating system name OS_NAME =&gt; LINUX 5: Fortran compiler name F_VERS =&gt; GNU 6: List of additional compilers F_VERS_LIST =&gt; 7: Host of the BPE server BPE_SERVER_HOST =&gt; U1604 8: Path to user environment U =&gt; $&#123;HOME&#125;/GPSUSER52 9: Path to temp. user environment T =&gt; $&#123;HOME&#125;/GPSTEMP10: Path to campaign area P =&gt; $&#123;HOME&#125;/GPSDATA/CAMPAIGN5211: Path to datapool area D =&gt; $&#123;HOME&#125;/GPSDATA/DATAPOOL12: Path to savedisk area S =&gt; $&#123;HOME&#125;/GPSDATA/SAVEDISK` 解释一下此处的默认环境变量： 第 1 项：Bernese 软件的安装目录第 2 项：所使用的 Qt 4 所在目录第 3 项：操作系统类型第 4 项：操作系统名称第 5 项：使用的 Fortran 编译器第 6 项：其他可用的编译器第 7 项： BPE 服务器第 8 项：用户环境目录第 9 项：用户临时文件缓存目录第 10 项：用户解算工程文件夹第 11 项：用户数据文件夹目录第 12 项：解算成果目录 若接受其默认的变量设置，输入 y。要修改其中的配置，输入 n，然后根据其提示，输入变量编号来配置变量。这里使用默认设置，输入 y。随后安装程序将检测是否存在所需的文件夹，当提示某个文件夹不存在时，程序提示是否创建，键入 y 创建即可。坑1 进行到第三步时重新打开终端 1cd /opt/BERN52 12$ ld -vGNU ld (GNU Binutils for Ubuntu) 2.30 版本大于 2.22，需要修改 BERN52/MENU/memu.pro 中的内容。打开该文件： 1$ sudo gedit /opt/BERN52/MENU/menu.pro 去掉前面的## 1##QMAKE_LIBS += -lz 保存后退出。然后，回到原终端，按 3 添加新用户环境。坑2 进行到第五步 1若提示 Fortran 程序编译至 100/100 时出错，返回安装程序引导 是安装文件没有权限 12cd /optsudo chmod 755 -R BERN52 继续安装，直至提示安装成功。 添加普通用户使用 root 用户进行数据解算操作既不方便也不安全。为了让非 root 用户也能使用 Bernese，需要使用新用户加载环境变量设置文件，并启动配置程序。按 3 继续，若不慎将终端关闭，新开终端中执行如下命令： 12$ source /opt/BERN52/GPS/EXE/LOADGPS.setvar$ perl /opt/BERN52/GPS/EXE/configure.pm 程序再次打印出安装提示，此时键入 3，根据程序提示添加新用户的环境变量即可。 1234567891011121314151617181920212223242526272829303132==========================================CONFIGURATION OF THE BERNESE GNSS SOFTWARE========================================== 1 ... Update LOADGPS.setvar 2 ... Install online updates 3 ... Add a new user environment 4 ... Compile the menu 5 ... Compile the programs 6 ... Install the example campaign 7 ... --- x ... ExitEnter option: 3Create user environment /home/xxx/GPSUSER52 (y/n): yCopying menu and program input files...Copying BPE user scripts...Copying examples for process control files...Copying BPE options for processing examples...Copying ICONS ...Extracting ICONS ...*********************************************************************** User area /home/spacefan/GPSUSER52* has been added/updated.**********************************************************************注意：此步是在普通用户模式下进行的操作，而非 root 用户。` Installation of the Example campaign has been finished 1234ATTENTION:When you are going to run them, please make sure that youruser scripts are still not modified. ### Executable CRX2RNX is missing! 配置环境变量为了在每次开机后都能直接使用 Bernese 软件，需要配置在系统启动时自动加载环境变量。编辑用户主文件夹内的配置文件（root 下的配置文件也可以一并添加了）： 1$ gedit ~/.bashrc 在文件末尾为 Bernese 加载环境变量： 12# Load environment variables for Bernese GNSS Softwaresource /opt/BERN52/GPS/EXE/LOADGPS.setvar 从 /root 目录将 GPSDATA 拷贝到普通用户目录 /home/spacefan，再为其添加普通用户权限即可。 1sudo chown -R geoyxd /home/geoyxd/GPSDATA 卸载qt41sudo apt-get autoremove --purge libqt4-[a-z]* 4 结束语 参考文献 1 BERNESE5.2 linux 安装 2 Bernese 5.2 + Ubuntu 16.04 编译安装完全指南 3 Windows安装虚拟机-Centos7；fortran及Qt4.8.4, BERNESE5.2 linux下安装步骤 4 Ubuntu18.04 搭建 OpenGL+Qt 4.8.6 的开发环境","categories":[{"name":"GNSS - BERNESE","slug":"GNSS-BERNESE","permalink":"http://geoplus.ltd/categories/GNSS-BERNESE/"}],"tags":[{"name":"bernese","slug":"bernese","permalink":"http://geoplus.ltd/tags/bernese/"}]},{"title":"GAMIT软件安装","slug":"gamit-install","date":"2019-10-21T07:55:16.000Z","updated":"2020-02-01T11:24:10.046Z","comments":true,"path":"2019/10/21/gamit-install/","link":"","permalink":"http://geoplus.ltd/2019/10/21/gamit-install/","excerpt":"在Elementary OS 5 Juno是基于最新版本的Ubuntu，其平台上安装gamit无法成功，是gcc、gFortran版本太高的原因，解决方式如下：","text":"在Elementary OS 5 Juno是基于最新版本的Ubuntu，其平台上安装gamit无法成功，是gcc、gFortran版本太高的原因，解决方式如下： 出现错误1234567internal compiler error: 段错误Please submit a full bug report,with preprocessed source if appropriate.See &lt;file:///usr/share/doc/gcc-7/README.Bugs&gt; for instructions.Makefile:280: recipe for target &apos;yawtab_lib.a(kouba_yaw.o)&apos; failedmake: *** [yawtab_lib.a(kouba_yaw.o)] Error 1Failure in make_gamit -- install_software terminated 解决方式删掉高版本的gcc/gfortran 在/usr/bin下 123456sudo rm gccsudo rm gfortransudo apt-get install gfortran-5sudo apt-get install gcc-5sudo ln -s gfortran-5 gfortransudo ln -s gcc-5 gcc gamit安装成功ubnutu最新的也适用","categories":[{"name":"GNSS - GAMIT","slug":"GNSS-GAMIT","permalink":"http://geoplus.ltd/categories/GNSS-GAMIT/"}],"tags":[{"name":"gamit","slug":"gamit","permalink":"http://geoplus.ltd/tags/gamit/"},{"name":"Test","slug":"Test","permalink":"http://geoplus.ltd/tags/Test/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-08-25T07:55:16.000Z","updated":"2019-11-23T11:08:42.886Z","comments":true,"path":"2019/08/25/hello-world/","link":"","permalink":"http://geoplus.ltd/2019/08/25/hello-world/","excerpt":"","text":"Hello World ！！！ geoyxd.site终于诞生了期间用过蚂蚁笔记的博客简书、微信公众号体验都不是很好 geoyxd.site域名买了10年致力于分享测绘技术、相关软件、编程语言 欢迎关注本博客欢迎向本博客投稿","categories":[{"name":"胡言乱语 - 搭建博客","slug":"胡言乱语-搭建博客","permalink":"http://geoplus.ltd/categories/胡言乱语-搭建博客/"}],"tags":[{"name":"Test","slug":"Test","permalink":"http://geoplus.ltd/tags/Test/"},{"name":"搭建博客","slug":"搭建博客","permalink":"http://geoplus.ltd/tags/搭建博客/"}]},{"title":"关于","slug":"关于","date":"2019-08-21T07:55:16.000Z","updated":"2019-08-21T07:57:30.833Z","comments":true,"path":"2019/08/21/关于/","link":"","permalink":"http://geoplus.ltd/2019/08/21/关于/","excerpt":"","text":"","categories":[],"tags":[{"name":"关于","slug":"关于","permalink":"http://geoplus.ltd/tags/关于/"}]}],"categories":[{"name":"GNSS - BERNESE","slug":"GNSS-BERNESE","permalink":"http://geoplus.ltd/categories/GNSS-BERNESE/"},{"name":"GNSS - GAMIT","slug":"GNSS-GAMIT","permalink":"http://geoplus.ltd/categories/GNSS-GAMIT/"},{"name":"胡言乱语 - 搭建博客","slug":"胡言乱语-搭建博客","permalink":"http://geoplus.ltd/categories/胡言乱语-搭建博客/"}],"tags":[{"name":"bernese","slug":"bernese","permalink":"http://geoplus.ltd/tags/bernese/"},{"name":"gamit","slug":"gamit","permalink":"http://geoplus.ltd/tags/gamit/"},{"name":"Test","slug":"Test","permalink":"http://geoplus.ltd/tags/Test/"},{"name":"搭建博客","slug":"搭建博客","permalink":"http://geoplus.ltd/tags/搭建博客/"},{"name":"关于","slug":"关于","permalink":"http://geoplus.ltd/tags/关于/"}]}